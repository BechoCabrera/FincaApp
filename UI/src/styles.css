@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap') layer(base);

@import 'tailwindcss';


/** Plugins **/
@import './assets/styles/apexchart.css';

@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/aspect-ratio";
@plugin "tailwind-scrollbar";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-*: initial;
  --font-poppins: Poppins, system-ui, sans-serif;
  --font-nunito: Nunito Sans, sans-serif;

  --animate-wiggle: wiggle 1s ease-in-out infinite;
  --animate-fade-in-down: fade-in-down 0.3s ease-out;
  --animate-fade-out-down: fade-out-down 0.3s ease-out;
  --animate-fade-in-up: fade-in-up 0.3s ease-out;
  --animate-fade-out-up: fade-out-up 0.3s ease-out;

  --shadow-custom: 0px 0px 50px 0px rgb(82 63 105 / 15%);

  --color-border: var(--border);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  @keyframes wiggle {

    0%,
    100% {
      transform: rotate(-3deg);
    }

    50% {
      transform: rotate(3deg);
    }
  }

  @keyframes fade-in-down {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-out-down {
    from {
      opacity: 1;
      transform: translateY(0px);
    }

    to {
      opacity: 0;
      transform: translateY(10px);
    }
  }

  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-out-up {
    from {
      opacity: 1;
      transform: translateY(0px);
    }

    to {
      opacity: 0;
      transform: translateY(10px);
    }
  }
}

@utility container {
  padding-inline: 1rem;

  @media (width >=theme(--breakpoint-sm)) {
    padding-inline: 2rem;
  }

  @media (width >=theme(--breakpoint-lg)) {
    padding-inline: 4rem;
  }

  @media (width >=theme(--breakpoint-xl)) {
    padding-inline: 5rem;
  }

  @media (width >=theme(--breakpoint-2xl)) {
    padding-inline: 6rem;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--primary);
  }
}

@utility dropdown-content {
  @apply pointer-events-none scale-95 opacity-0 duration-100 ease-in;

  .dropdown:hover>& {
    @apply pointer-events-auto block scale-100 animate-fade-in-up opacity-100 duration-200;
  }
}

@utility dropdown {
  &:hover>.dropdown-content {
    @apply pointer-events-auto block scale-100 animate-fade-in-up opacity-100 duration-200;
  }
}

@layer base {
  :root {
    --background: #FFFFFF;
    --foreground: #0C1420;
    --card: #F1F5F9;
    --card-foreground: #000000;
    --primary: #E11D48;
    --primary-foreground: #FFFFFF;
    --muted: #CFD9E5;
    --muted-foreground: #64748B;
    --destructive: #CC0033;
    --destructive-foreground: #FAFAFA;
    --border: #E2E8F0;
  }

  .dark {
    --background: #0A0A0A;
    --foreground: #F2F2F2;
    --card: #121212;
    --card-foreground: #262626;
    --muted: #262626;
    --muted-foreground: #A3A3A3;
    --border: #262626;
  }

  :root[data-theme='violet'] {
    --primary: #6E56CF;
  }

  .dark[data-theme='violet'] {
    --background: #060815;
    --foreground: #F6F8FB;
    --card: #0B0F1A;
    --card-foreground: #F6F8FB;
    --primary-foreground: #F6F8FB;
    --muted: #232B3D;
    --muted-foreground: #A1A8BF;
    --border: #232B3D;
  }

  :root[data-theme='red'] {
    --primary: #CC0033;
  }

  .dark[data-theme='red'] {
    --primary-foreground: #FFE5E5;
  }

  :root[data-theme='blue'] {
    --primary: #2490FF;
  }

  .dark[data-theme='blue'] {
    --background: #02080F;
    --foreground: #F8FAFC;
    --card: #0B1117;
    --card-foreground: #F8FAFC;
    --primary-foreground: #0F1729;
    --muted: #1E293B;
    --muted-foreground: #94A3B8;
    --border: #1E293B;
  }

  :root[data-theme='orange'] {
    --primary: #EA580C;
  }

  .dark[data-theme='orange'] {
    --background: #0C0A09;
    --foreground: #FAFAF9;
    --card: #141110;
    --card-foreground: #FAFAF9;
    --primary-foreground: #FAFAF9;
    --muted: #292524;
    --muted-foreground: #A8A29E;
    --border: #292524;
  }

  :root[data-theme='yellow'] {
    --primary: #FACC15;
  }

  .dark[data-theme='yellow'] {
    --background: #0C0A09;
    --foreground: #FAFAF9;
    --card: #141110;
    --card-foreground: #FAFAF9;
    --primary: #FACC15;
    --primary-foreground: #422006;
    --muted: #292524;
    --muted-foreground: #A8A29E;
    --border: #292524;
  }

  :root[data-theme='green'] {
    --primary: #22C55E;
  }

  .dark[data-theme='green'] {
    --primary: #22C55E;
    --primary-foreground: #052E16;
  }

}

/** Scroll bar **/
/* @supports selector(::-webkit-scrollbar) {
  .supports-scrollbars\: pr-2 {
    padding-right: 0.5rem;
  }
} */

/** Custom Forms **/
[type='text'],
[type='email'],
[type='url'],
[type='password'],
[type='number'],
[type='date'],
[type='datetime-local'],
[type='month'],
[type='search'],
[type='tel'],
[type='time'],
[type='week'],
[multiple],
textarea,
select {
  @apply w-full rounded-md border border-border bg-background text-xs text-foreground placeholder-muted-foreground focus:z-10 focus:border-primary focus:outline-hidden focus:ring-primary;
}

[type='checkbox'],
[type='radio'] {
  @apply h-4 w-4 rounded-sm border-border bg-background checked:border-primary checked:bg-primary indeterminate:border-primary indeterminate:bg-primary focus:ring-2 focus:ring-primary;
}
html, body { height: 100%; }
body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }

body {
  margin: 0;
  font-family: var(--font-poppins), system-ui, sans-serif;
}




/* ====== UI TOKENS ====== */
@layer base {
  :root {
    --radius: 12px; /* si no estaba */
  }
}

/* ====== LAYOUT ====== */
@utility ui-container {
  max-width: 1100px;
  margin-inline: auto;
  padding: 1rem;
  @media (width >= 768px) { padding: 1.25rem; }
  @media (width >= 1280px) { padding: 1.5rem; }
}

@utility ui-grid-12 {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
}

@utility ui-col-12 { grid-column: span 12; }
@utility ui-col-6  { grid-column: span 12; }
@media (width >= 900px) {
  .ui-col-6 { grid-column: span 6; }
}

/* ====== CARD / CONTENEDORES ====== */
@layer components {
  .ui-card {
    background: var(--card);
    color: var(--card-foreground);
    border-radius: var(--radius);
    box-shadow: 0 3px 10px rgba(0,0,0,.08);
    padding: 1rem;
  }

  .ui-toolbar-sticky {
    position: sticky; top: 0; z-index: 30;
    backdrop-filter: saturate(180%) blur(6px);
  }
}

/* ====== FORM ====== */
@layer components {
  .ui-form { /* grid base para formularios */
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 14px;
  }

  .ui-field { grid-column: span 12; }
  @media (width >= 900px) {
    .ui-field { grid-column: span 6; }
  }

  .ui-field-full { grid-column: 1 / -1; }

  /* Ajustes suaves a Angular Material */
  .mat-mdc-button, .mdc-button { border-radius: var(--radius); }
  .mdc-text-field--outlined { border-radius: var(--radius); }
  .mat-mdc-form-field { width: 100%; }
}

/* ====== BOTONES ====== */
@layer components {
  .ui-btn {
    border-radius: var(--radius);
    font-weight: 500;
    text-transform: none;
    padding: .5rem 1.1rem;
  }
  .ui-btn-primary {
    background-color: var(--primary);
    color: var(--primary-foreground);
  }
  .ui-btn-outline {
    border: 1px solid var(--border);
    color: var(--foreground);
    background: transparent;
  }
  .ui-actions {
    display: flex; gap: .75rem; align-items: center;
  }
  .ui-spacer { flex: 1; }
}

/* ====== SCROLLBAR (usa el plugin tailwind-scrollbar en HTML) ====== */
/* ejemplo de wrapper con utilidades del plugin */
@layer components {
  .ui-scrollable {
    overflow: auto;
  }
  /* En el template: class="ui-scrollable scrollbar-thin scrollbar-thumb-muted-foreground/50" */
}
/* === Bridge: Tailwind theme --> Angular Material M3 === */
@layer base {
  :root {
    /* Colores clave */
    --mat-sys-primary: var(--primary);
    --mat-sys-on-primary: var(--primary-foreground);

    /* Opcionales pero útiles para consistencia */
    --mat-sys-primary-container: color-mix(in oklab, var(--primary) 18%, white);
    --mat-sys-on-primary-container: var(--primary);
    --mat-sys-outline: var(--border);
    --mat-fab-small-foreground-color: color-mix(in oklab, var(--primary) 18%, white);
  }
  .dark {
    --mat-sys-primary: var(--primary);
    --mat-sys-on-primary: var(--primary-foreground);
    --mat-sys-outline: var(--border);
    --mat-sys-surface:color-mix(in oklab, var(--primary) 18%, white);
  }
}
@layer components {
  .mat-mdc-raised-button,
  .mat-mdc-unelevated-button,
  .mat-mdc-stroked-button {
    border-radius: var(--radius);
    text-transform: none;
    font-weight: 500;
    padding: .5rem 1.1rem;
  }
}
/* RESET */
.ui-form .mdc-text-field--filled {
  background-color: var(--field-bg) !important;
}
/* === Focus limpio (sin borde azul del navegador) === */
.ui-form .mat-mdc-input-element:focus,
.ui-form .mdc-text-field__input:focus {
  outline: 0 !important;
  box-shadow: none !important;
}

/* === Fondo de error SOLO cuando corresponde === */
/* 1) El control fue tocado */
.ui-form .mat-mdc-form-field.mat-mdc-form-field-invalid.ng-touched .mdc-text-field--filled,
/* 2) O el formulario fue enviado */
.ui-form.was-submitted .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-text-field--filled {
  background-color: var(--error-50);
}

/* (Opcional) si usas outlined en algún lugar: pinta el borde en error */
.ui-form .mat-mdc-form-field.mat-mdc-form-field-invalid.ng-touched .mdc-text-field--outlined,
.ui-form.was-submitted .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-text-field--outlined {
  /* solo borde; el fill no aplica en outlined */
  --mdc-outlined-text-field-outline-color: var(--destructive);
  --mdc-outlined-text-field-focus-outline-color: var(--destructive);
}

/* Asegura que exista un tono suave para error */
:root { --error-50: color-mix(in oklab, var(--destructive) 12%, white); }
/* Si tu entorno no soporta color-mix, usa un fallback sólido:
:root { --error-50: #ffe5e9; }
*/
/* === Zoom tipográfico global (por defecto 1 = 100%) === */
:root { --font-zoom: 1; }

/* Todo el sitio escala con esta variable */
html { font-size: calc(16px * var(--font-zoom)); }

/* Transición suave (opcional) */
html { transition: font-size .15s ease-out; }

/* ===== Material TextFields (filled/outlined) bridge a tu theme ===== */

/* Colores base para fondos de campos */
:root {
  /* en claro */
  --field-bg: var(--card);                    /* fondo del input */
  --field-border: var(--border);
  --field-text: var(--foreground);
  --field-label: var(--muted-foreground);
  --field-placeholder: var(--muted-foreground);
  --mat-sys-surface:color-mix(in oklab, var(--primary) 18%, white);
}

.dark {
  /* en oscuro: un pelín + claro que el background para que se note */
  --field-bg: color-mix(in oklab, var(--background) 85%, white 15%);
  --field-border: color-mix(in oklab, var(--border) 60%, white 40%);
  --field-text: var(--foreground);
  --field-label: color-mix(in oklab, var(--foreground) 65%, transparent);
  --field-placeholder: color-mix(in oklab, var(--foreground) 50%, transparent);
  --mat-sys-surface:color-mix(in oklab, var(--primary) 18%, white);
}

/* Iconos de suffix/prefix (calendario, flecha select, etc.) */
.ui-form .mat-mdc-form-field-icon-suffix,
.ui-form .mat-mdc-form-field-icon-prefix {
  color: var(--field-label);
}

/* Mat-hint / Mat-error */
.ui-form .mat-mdc-form-field-hint { color: var(--field-label); }
.ui-form .mat-mdc-form-field-error { color: var(--destructive); opacity: .95; }

/* === Select panel en oscuro/claro === */
.mat-mdc-select-panel {
  background: var(--card) !important;
  color: var(--foreground) !important;
  border: 1px dashed var(--border);
}
.mat-mdc-option { color: var(--foreground) !important; }


/* === Datepicker overlay === */
.mat-datepicker-content,
.mat-datepicker-content .mat-calendar {
  background: var(--card) !important;
  color: var(--foreground) !important;
}
.mat-calendar-body-cell-content {
  color: var(--foreground);
}
.mat-calendar-body-selected,
.mat-calendar-body-active {
  background: color-mix(in oklab, var(--primary) 85%, transparent) !important;
  color: var(--primary-foreground) !important;
}

/* Ajuste del tono de error para oscuro (más sutil que en claro) */
.dark { --error-50: color-mix(in oklab, var(--destructive) 25%, black); }
/* === Colores de texto del campo === */
:root {
  --field-text: var(--foreground);
  --field-label: var(--muted-foreground);
  --field-placeholder: var(--muted-foreground);
}

.dark {
  /* Texto blanco y etiquetas/placeholder más claros */
  --field-text: #ffffff;        /* ⬅️ blanco */
  --field-label: #cbd5e1;       /* slate-300 aprox */
  --field-placeholder: #94a3b8; /* slate-400 aprox */
}

/* Vincular a Angular Material (filled) */
.ui-form .mdc-text-field--filled {
  --mdc-filled-text-field-input-text-color: var(--field-text);
  --mdc-filled-text-field-label-text-color: var(--field-label);
  --mdc-filled-text-field-input-text-placeholder-color: var(--field-placeholder);
  --mdc-filled-text-field-caret-color: var(--primary);
}

/* (si usas outlined en algún lado) */
.ui-form .mdc-text-field--outlined {
  --mdc-outlined-text-field-input-text-color: var(--field-text);
  --mdc-outlined-text-field-label-text-color: var(--field-label);
  --mdc-outlined-text-field-caret-color: var(--primary);
}

/* Selects y overlays */
.ui-form .mat-mdc-select-value,
.ui-form .mat-mdc-select-placeholder { color: var(--field-text) !important; }
.mat-mdc-option .mdc-list-item__primary-text { color: var(--field-text) !important; }
.mat-datepicker-content, .mat-datepicker-content .mat-calendar { color: var(--field-text) !important; }

/* Fallback duro por si algún input se resiste */
.ui-form .mat-mdc-input-element,
.ui-form .mdc-text-field__input { color: var(--field-text) !important; }


/* elimina la línea interna y el overlay del form-field */
.no-ripple .mdc-line-ripple{ display:none !important; }
.no-ripple .mat-mdc-form-field-focus-overlay{ background:transparent !important; }

/* mejora visual del input del buscador */
.ui-search .mat-mdc-text-field-wrapper{
    box-shadow: none !important;
}
.ui-search.mat-mdc-form-field .mdc-notched-outline__leading,
.ui-search.mat-mdc-form-field .mdc-notched-outline__notch,
.ui-search.mat-mdc-form-field .mdc-notched-outline__trailing{
  border-color: var(--primary) !important;
}

.section-title { font-weight: 600; margin: 0 0 .5rem 0; }
.ui-table-wrapper { overflow: auto; }
.ui-table th, .ui-table td { white-space: nowrap; }
.text-right { text-align: right; }
/* ---------- Tokens base de formularios ---------- */
:root{
  --form-accent: var(--primary);          /* color de marca de los inputs */
}

/* Siempre usa tu color como "primary" interno de MDC */
.mat-mdc-form-field{
  --mdc-theme-primary: var(--form-accent);
}

/* ===== Filled (subrayado) ===== */
.mat-mdc-form-field .mdc-text-field--filled{
  /* Fondo y radio (opcional si quieres heredar lo que ya tenías) */
  --mdc-filled-text-field-container-color: var(--field-bg);
  --mdc-filled-text-field-container-shape: var(--radius);

  /* Texto y caret: neutro + caret en marca */
  --mdc-filled-text-field-input-text-color: var(--field-text);
  --mdc-filled-text-field-caret-color: var(--form-accent);

  /* Label SIEMPRE neutro (nada de primario) */
  --mdc-filled-text-field-label-text-color: var(--field-label) !important;
  --mdc-filled-text-field-focus-label-text-color: var(--field-label) !important;

  /* Línea inferior */
  --mdc-filled-text-field-active-indicator-color: var(--field-border) !important; /* reposo */
  --mdc-filled-text-field-hover-active-indicator-color: color-mix(in oklab, var(--form-accent) 40%, var(--field-border)) !important;
  --mdc-filled-text-field-focus-active-indicator-color: var(--form-accent) !important; /* foco */
}

/* ===== Outlined (contorno) ===== */
.mat-mdc-form-field .mdc-text-field--outlined{
  --mdc-outlined-text-field-container-shape: var(--radius);
  --mdc-outlined-text-field-input-text-color: var(--field-text);
  --mdc-outlined-text-field-caret-color: var(--form-accent);

  /* Label SIEMPRE neutro */
  --mdc-outlined-text-field-label-text-color: var(--field-label) !important;
  --mdc-outlined-text-field-focus-label-text-color: var(--field-label) !important;

  /* Bordes */
  --mdc-outlined-text-field-outline-color: var(--field-border) !important;         /* reposo */
  --mdc-outlined-text-field-hover-outline-color: color-mix(in oklab, var(--form-accent) 40%, var(--field-border)) !important;
  --mdc-outlined-text-field-focus-outline-color: var(--form-accent) !important;    /* foco */
}

/* Ripple inferior (asegura color en todas las variantes) */
.mat-mdc-form-field .mdc-line-ripple,
.mat-mdc-form-field .mdc-line-ripple::before,
.mat-mdc-form-field .mdc-line-ripple::after,
.mat-mdc-form-field .mdc-line-ripple--active,
.mat-mdc-form-field .mdc-line-ripple--active::before,
.mat-mdc-form-field .mdc-line-ripple--active::after{
  background-color: var(--form-accent) !important;
  border-bottom-color: var(--form-accent) !important;
}

/* Label realmente neutro (por si algún estilo previo lo fuerza) */
.mat-mdc-form-field .mdc-floating-label,
.mat-mdc-form-field.mat-focused .mdc-floating-label{
  color: var(--field-label) !important;
  opacity: 1;
}

/* Asterisco de requerido: elige marca o neutro */
.mat-mdc-form-field .mat-mdc-form-field-required-marker{
  color: var(--field-label);  /* o var(--form-accent) si lo quieres con marca */
}

/* Evita borde interno que mete Tailwind Forms en inputs dentro de Material */
.mat-mdc-form-field input.mat-mdc-input-element,
.mat-mdc-form-field textarea.mat-mdc-input-element,
.mat-mdc-form-field .mdc-text-field__input{
  border: 0 !important;
  background: transparent !important;
  box-shadow: none !important;
}


/* Color primario global para Material */
.mat-mdc-form-field{ --mdc-theme-primary: var(--primary); }

/* Outlined global */
.mat-mdc-form-field .mdc-text-field--outlined{
  --mdc-outlined-text-field-focus-outline-color: var(--primary) !important;
  --mdc-outlined-text-field-hover-outline-color: color-mix(in oklab, var(--primary) 40%, var(--border)) !important;
  --mdc-outlined-text-field-label-text-color: var(--field-label) !important;
  --mdc-outlined-text-field-focus-label-text-color: var(--field-label) !important;
  --mat-sys-on-primary-container: var(--primary);
}
.mat-mdc-form-field .mdc-notched-outline__leading,
.mat-mdc-form-field .mdc-notched-outline__notch,
.mat-mdc-form-field .mdc-notched-outline__trailing{
  border-color: var(--border);
}
.mat-mdc-form-field.mat-focused .mdc-notched-outline__leading,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__notch,
.mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{
  border-color: var(--primary) !important;
}


.mat-mdc-mini-fab {
    width: 40px;
    height: 40px;
    background-color: var(--mat-fab-small-container-color, var(--mat-sys-primary-container));
    border-radius: var(--mat-fab-small-container-shape, var(--mat-sys-corner-medium));
    color: var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));
    box-shadow: var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level3));
}

.ui-btn-primary {
  background: var(--primary) !important;
  color: var(--on-primary, #fff) !important;
}
.ui-btn-primary-cancel {
  background:  white!important;
  color: color-mix(in oklab, var(--primary) 78%, white)!important;
 box-shadow: var(--mat-fab-small-container-elevation-shadow, var(--mat-sys-level1));
}

<section class="ui-card mt-3">
  <h3 class="section-title">Registro de Cría ({{ generoCria }})</h3>

  <form [formGroup]="form" class="ui-form">
    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Vaca (Mamá)</mat-label>
      <input matInput [value]="madreNumero + ' - ' + madreNombre" readonly />
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Finca</mat-label>
      <mat-select formControlName="fincaId">
        <mat-option [value]="null">— Seleccione —</mat-option>
        <mat-option *ngFor="let f of fincas" [value]="f.id">{{ f.nombre }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field *ngIf="generoCria === 'Hembra'" appearance="fill" class="ui-field ui-field-6">
      <mat-label>Número</mat-label>
      <input matInput formControlName="numero" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="nombre" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Fecha Nacimiento</mat-label>
      <input matInput [matDatepicker]="nacPicker" formControlName="fechaNac" />
      <mat-datepicker-toggle matSuffix [for]="nacPicker"></mat-datepicker-toggle>
      <mat-datepicker #nacPicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Peso Kg</mat-label>
      <input matInput type="number" formControlName="pesoKg" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Color</mat-label>
      <input matInput formControlName="color" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field ui-field-6">
      <mat-label>Propietario</mat-label>
      <input matInput formControlName="propietario" />
    </mat-form-field>

    <mat-form-field appearance="fill" class="ui-field-full">
      <mat-label>Detalles</mat-label>
      <textarea matInput rows="3" formControlName="detalles"></textarea>
    </mat-form-field>

    <div class="ui-actions ui-field-full">
      <button
        mat-flat-button
        type="button"
        style="background: var(--primary)"
        [disabled]="isSaving"
        (click)="guardarCria()">
        Guardar cría
      </button>
    </div>
  </form>
</section>

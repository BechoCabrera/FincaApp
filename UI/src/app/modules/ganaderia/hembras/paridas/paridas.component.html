<div class="ui-container ui-scrollable">
  <section class="ui-card">
    <h3 class="section-title">Registro de Vacas Paridas</h3>

    <form [formGroup]="form"  #formDir="ngForm"  class="ui-form" (ngSubmit)="submit()" [class.was-submitted]="formDir.submitted">



      <!-- ===== Identificación ===== -->
      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Número</mat-label>
        <input matInput formControlName="numero" placeholder="Arete / ID">
        <mat-error *ngIf="has('numero','required')">Requerido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="nombre" placeholder="Nombre de la vaca">
        <mat-error *ngIf="has('nombre','required')">Requerido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Fecha Nacimiento</mat-label>
        <input matInput [matDatepicker]="nacPicker" formControlName="fechaNac">
        <mat-datepicker-toggle matSuffix [for]="nacPicker"></mat-datepicker-toggle>
        <mat-datepicker #nacPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Color</mat-label>
        <input matInput formControlName="color" placeholder="Roja, Pintada, Negra...">
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Procedencia</mat-label>
        <input matInput formControlName="procedencia" placeholder="Compra, Nacida en finca...">
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Propietario</mat-label>
        <input matInput formControlName="propietario" placeholder="Nombre del propietario">
      </mat-form-field>

      <!-- ===== Evento / Ubicación ===== -->
      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Fecha de Parto</mat-label>
        <input matInput [matDatepicker]="partoPicker" formControlName="fechaParto">
        <mat-datepicker-toggle matSuffix [for]="partoPicker"></mat-datepicker-toggle>
        <mat-datepicker #partoPicker></mat-datepicker>
        <mat-error *ngIf="has('fechaParto','required')">Requerido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Seleccione la finca</mat-label>
        <mat-select formControlName="fincaId">
          <mat-option *ngFor="let f of fincas" [value]="f.id">{{ f.nombre }}</mat-option>
        </mat-select>
        <mat-error *ngIf="has('fincaId','required')">Requerido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Género</mat-label>
        <mat-select formControlName="genero">
          <mat-option value="Hembra">Hembra</mat-option>
          <mat-option value="Macho">Macho</mat-option>
        </mat-select>
        <mat-error *ngIf="has('genero','required')">Requerido</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-field ui-field-6">
        <mat-label>Tipo leche</mat-label>
        <mat-select formControlName="tipoLeche">
          <mat-option *ngFor="let t of tiposLeche" [value]="t">{{ t }}</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- ===== Detalles ===== -->
      <mat-form-field appearance="fill" class="ui-field-full">
        <mat-label>Detalles</mat-label>
        <textarea matInput formControlName="detalles" rows="3"></textarea>
      </mat-form-field>

      <!-- ===== Acciones ===== -->
      <div class="ui-actions ui-field-full">
        <button class="ui-btn" style="background:var(--primary)" mat-flat-button type="button">Cancelar</button>
        <button class="ui-btn" style="background:var(--primary)" mat-flat-button type="submit">
          Guardar
        </button>
      </div>
    </form>
  </section>
</div>
